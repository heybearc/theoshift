(()=>{var e={};e.id=6528,e.ids=[6528,2888,660],e.modules={1323:(e,t)=>{"use strict";Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,s){return s in t?t[s]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,s)):"function"==typeof t&&"default"===s?t:void 0}}})},6040:(e,t,s)=>{"use strict";s.r(t),s.d(t,{config:()=>y,default:()=>h,getServerSideProps:()=>v,getStaticPaths:()=>b,getStaticProps:()=>f,reportWebVitals:()=>j,routeModule:()=>_,unstable_getServerProps:()=>A,unstable_getServerSideProps:()=>w,unstable_getStaticParams:()=>P,unstable_getStaticPaths:()=>S,unstable_getStaticProps:()=>N});var r={};s.r(r),s.d(r,{default:()=>p,getServerSideProps:()=>g});var a=s(7093),n=s(5244),i=s(1323),l=s(2899),o=s.n(l),d=s(6814),c=s(997),m=s(6689),u=s(968),x=s.n(u);function p(){let[e,t]=(0,m.useState)(""),[s,r]=(0,m.useState)(""),[a,n]=(0,m.useState)(""),[i,l]=(0,m.useState)(!1),[o,d]=(0,m.useState)(null),[u,p]=(0,m.useState)(""),g=async t=>{if(t.preventDefault(),!e.trim()||!s.trim()){p("Please enter both first and last name");return}l(!0),p(""),d(null);try{let t=new URLSearchParams({firstName:e.trim(),lastName:s.trim(),...a&&{eventId:a}}),r=await fetch(`/api/attendants/lookup?${t}`),n=await r.json();n.success?d(n.data):p(n.error||"Attendant not found")}catch(e){p("An error occurred while looking up your information")}finally{l(!1)}};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(x(),{children:[c.jsx("title",{children:"Guest Attendant Lookup | JW Attendant Scheduler"}),c.jsx("meta",{name:"description",content:"Look up your attendant assignments"})]}),c.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,c.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,c.jsxs)("div",{className:"text-center",children:[c.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Attendant Lookup"}),c.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Enter your name to view your assignments"})]}),(0,c.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:g,children:[(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsxs)("div",{children:[c.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700",children:"First Name"}),c.jsx("input",{id:"firstName",name:"firstName",type:"text",required:!0,value:e,onChange:e=>t(e.target.value),className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Enter your first name"})]}),(0,c.jsxs)("div",{children:[c.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700",children:"Last Name"}),c.jsx("input",{id:"lastName",name:"lastName",type:"text",required:!0,value:s,onChange:e=>r(e.target.value),className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Enter your last name"})]}),(0,c.jsxs)("div",{children:[c.jsx("label",{htmlFor:"eventId",className:"block text-sm font-medium text-gray-700",children:"Event ID (Optional)"}),c.jsx("input",{id:"eventId",name:"eventId",type:"text",value:a,onChange:e=>n(e.target.value),className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Enter event ID for specific assignments"})]})]}),u&&c.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:c.jsx("div",{className:"text-sm text-red-600",children:u})}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:i,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Looking up...":"Look Up Assignments"})})]}),o&&(0,c.jsxs)("div",{className:"mt-8 bg-white shadow rounded-lg p-6",children:[(0,c.jsxs)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:["Welcome, ",o.attendant.firstName," ",o.attendant.lastName,"!"]}),(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsxs)("div",{children:[c.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Contact Information"}),(0,c.jsxs)("div",{className:"mt-1 text-sm text-gray-600",children:[(0,c.jsxs)("p",{children:["Email: ",o.attendant.email]}),o.attendant.phone&&(0,c.jsxs)("p",{children:["Phone: ",o.attendant.phone]}),(0,c.jsxs)("p",{children:["Congregation: ",o.attendant.congregation]})]})]}),(0,c.jsxs)("div",{children:[c.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Forms of Service"}),c.jsx("div",{className:"mt-1",children:Array.isArray(o.attendant.formsOfService)&&o.attendant.formsOfService.length>0?c.jsx("div",{className:"flex flex-wrap gap-1",children:o.attendant.formsOfService.map((e,t)=>c.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:e},t))}):c.jsx("p",{className:"text-sm text-gray-500",children:"No forms of service listed"})})]}),o.assignments&&o.assignments.length>0&&(0,c.jsxs)("div",{children:[c.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Your Assignments"}),c.jsx("div",{className:"mt-2 space-y-2",children:o.assignments.map(e=>(0,c.jsxs)("div",{className:"border border-gray-200 rounded-md p-3",children:[(0,c.jsxs)("div",{className:"flex justify-between items-start",children:[(0,c.jsxs)("div",{children:[c.jsx("p",{className:"font-medium text-gray-900",children:e.event_positions.positionName}),e.event_positions.department&&(0,c.jsxs)("p",{className:"text-sm text-gray-600",children:["Department: ",e.event_positions.department]}),e.event_positions.description&&c.jsx("p",{className:"text-sm text-gray-500",children:e.event_positions.description})]}),c.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${"ASSIGNED"===e.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:e.status})]}),c.jsx("div",{className:"mt-2 text-sm text-gray-600",children:(0,c.jsxs)("p",{children:["Shift: ",new Date(e.shiftStart).toLocaleString()," - ",new Date(e.shiftEnd).toLocaleString()]})})]},e.id))})]}),(!o.assignments||0===o.assignments.length)&&a&&c.jsx("div",{className:"text-sm text-gray-500",children:"No assignments found for the specified event."})]})]})]})})]})}let g=async()=>({props:{}}),h=(0,i.l)(r,"default"),f=(0,i.l)(r,"getStaticProps"),b=(0,i.l)(r,"getStaticPaths"),v=(0,i.l)(r,"getServerSideProps"),y=(0,i.l)(r,"config"),j=(0,i.l)(r,"reportWebVitals"),N=(0,i.l)(r,"unstable_getStaticProps"),S=(0,i.l)(r,"unstable_getStaticPaths"),P=(0,i.l)(r,"unstable_getStaticParams"),A=(0,i.l)(r,"unstable_getServerProps"),w=(0,i.l)(r,"unstable_getServerSideProps"),_=new a.PagesRouteModule({definition:{kind:n.x.PAGES,page:"/guest-lookup",pathname:"/guest-lookup",bundlePath:"",filename:""},components:{App:d.default,Document:o()},userland:r})},6814:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var r=s(997),a=s(1649);function n({Component:e,pageProps:{session:t,...s}}){return r.jsx(a.SessionProvider,{session:t,children:r.jsx(e,{...s})})}s(6764)},6764:()=>{},5244:(e,t)=>{"use strict";var s;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return s}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(s||(s={}))},1649:e=>{"use strict";e.exports=require("next-auth/react")},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{"use strict";e.exports=require("next/head")},6689:e=>{"use strict";e.exports=require("react")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},5315:e=>{"use strict";e.exports=require("path")}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[2899],()=>s(6040));module.exports=r})();