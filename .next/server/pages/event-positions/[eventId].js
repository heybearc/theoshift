(()=>{var e={};e.id=769,e.ids=[769,888,660],e.modules={2655:(e,t,s)=>{"use strict";s.r(t),s.d(t,{config:()=>C,default:()=>N,getServerSideProps:()=>k,getStaticPaths:()=>S,getStaticProps:()=>w,reportWebVitals:()=>D,routeModule:()=>E,unstable_getServerProps:()=>$,unstable_getServerSideProps:()=>R,unstable_getStaticParams:()=>A,unstable_getStaticPaths:()=>q,unstable_getStaticProps:()=>P});var r={};s.r(r),s.d(r,{default:()=>f,getServerSideProps:()=>v});var a=s(7093),i=s(5244),l=s(1323),n=s(2899),o=s.n(n),d=s(6814),c=s(997),m=s(3227),x=s(5175),u=s(9061),p=s(6689),h=s(1664),g=s.n(h),b=s(1163);function f(){let{id:e}=(0,b.useRouter)().query,[t,s]=(0,p.useState)([]),[r,a]=(0,p.useState)([]),[i,l]=(0,p.useState)(!0),[n,o]=(0,p.useState)(""),[d,m]=(0,p.useState)(""),[x,h]=(0,p.useState)(""),[f,v]=(0,p.useState)(""),[N,w]=(0,p.useState)(""),[S,k]=(0,p.useState)(!1),[C,D]=(0,p.useState)(!1),[P,q]=(0,p.useState)({page:1,limit:20,total:0,pages:0,hasNext:!1,hasPrev:!1}),A=async(t=1)=>{if(e)try{l(!0);let r=new URLSearchParams({page:t.toString(),limit:P.limit.toString(),search:f,department:N}),i=await fetch(`/api/admin/events/${e}/positions?${r}`),n=await i.json();n.success?(s(n.data.positions),a(n.data.departments),q(n.data.pagination),n.data.positions.length>0&&$()):o("Failed to fetch positions")}catch(e){o("Error fetching positions"),console.error("Error:",e)}finally{l(!1)}},$=async()=>{try{let t=await fetch(`/api/admin/events/${e}`),s=await t.json();s.success&&h(s.data.name)}catch(e){console.error("Error fetching event name:",e)}},R=async t=>{try{let s=await fetch(`/api/admin/events/${e}/positions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),r=await s.json();r.success?(m("Position created successfully!"),k(!1),A(P.page),setTimeout(()=>m(""),3e3)):o(r.error||"Failed to create position")}catch(e){o("Error creating position"),console.error("Error:",e)}},E=async t=>{if(confirm("Are you sure you want to delete this position? This will also remove all related shifts and assignments."))try{let s=await fetch(`/api/admin/events/${e}/positions/${t}`,{method:"DELETE"}),r=await s.json();r.success?(m("Position deleted successfully!"),A(P.page),setTimeout(()=>m(""),3e3)):o(r.error||"Failed to delete position")}catch(e){o("Error deleting position"),console.error("Error:",e)}},_=e=>{let t=["bg-blue-100 text-blue-800","bg-green-100 text-green-800","bg-yellow-100 text-yellow-800","bg-purple-100 text-purple-800","bg-pink-100 text-pink-800","bg-indigo-100 text-indigo-800"];return t[e.split("").reduce((e,t)=>e+t.charCodeAt(0),0)%t.length]};return c.jsx(u.Z,{children:(0,c.jsxs)("div",{className:"max-w-7xl mx-auto",children:[c.jsx("div",{className:"mb-6",children:(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsxs)("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Event Positions"}),(0,c.jsxs)("p",{className:"mt-2 text-sm text-gray-600",children:["Manage positions for: ",c.jsx("span",{className:"font-medium",children:x})]})]}),(0,c.jsxs)("div",{className:"flex space-x-3",children:[c.jsx(g(),{href:`/admin/events/${e}`,className:"bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded transition-colors",children:"← Back to Event"}),c.jsx("button",{onClick:()=>D(!0),className:"bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded transition-colors",children:"\uD83D\uDCE5 Bulk Create"}),c.jsx("button",{onClick:()=>k(!0),className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded transition-colors",children:"➕ Create Position"})]})]})}),n&&(0,c.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:[c.jsx("p",{className:"text-red-700",children:n}),c.jsx("button",{onClick:()=>o(""),className:"mt-2 text-red-600 hover:text-red-800",children:"✕ Dismiss"})]}),d&&c.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:c.jsx("p",{className:"text-green-700",children:d})}),r.length>0&&(0,c.jsxs)("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Departments Overview"}),(0,c.jsxs)("div",{className:"flex flex-wrap gap-3",children:[r.map(e=>(0,c.jsxs)("button",{onClick:()=>w(N===e.department?"":e.department),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${N===e.department?"bg-blue-600 text-white":`${_(e.department)} hover:opacity-80`}`,children:[e.department," (",e._count.department,")"]},e.department)),N&&c.jsx("button",{onClick:()=>w(""),className:"px-3 py-2 rounded-lg text-sm font-medium bg-gray-200 text-gray-700 hover:bg-gray-300",children:"Clear Filter"})]})]}),c.jsx("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,c.jsxs)("div",{children:[c.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 mb-1",children:"Search Positions"}),c.jsx("input",{type:"text",id:"search",value:f,onChange:e=>v(e.target.value),placeholder:"Search by title, department, or description...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,c.jsxs)("div",{children:[c.jsx("label",{htmlFor:"departmentFilter",className:"block text-sm font-medium text-gray-700 mb-1",children:"Filter by Department"}),(0,c.jsxs)("select",{id:"departmentFilter",value:N,onChange:e=>w(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[c.jsx("option",{value:"",children:"All Departments"}),r.map(e=>(0,c.jsxs)("option",{value:e.department,children:[e.department," (",e._count.department,")"]},e.department))]})]}),c.jsx("div",{className:"flex items-end",children:c.jsx("button",{onClick:()=>A(1),className:"w-full bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:"\uD83D\uDD04 Refresh"})})]})}),c.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:i?(0,c.jsxs)("div",{className:"p-8 text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),c.jsx("p",{className:"mt-2 text-gray-600",children:"Loading positions..."})]}):0===t.length?(0,c.jsxs)("div",{className:"p-8 text-center",children:[c.jsx("p",{className:"text-gray-500",children:"No positions created for this event"}),c.jsx("button",{onClick:()=>k(!0),className:"mt-4 inline-block bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded transition-colors",children:"Create First Position"})]}):(0,c.jsxs)(c.Fragment,{children:[c.jsx("div",{className:"overflow-x-auto",children:(0,c.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:(0,c.jsxs)("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Position"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assignments"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Shifts"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(t=>(0,c.jsxs)("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4",children:(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:["#",t.positionNumber," - ",t.title]}),t.description&&c.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:t.description}),t.skillsRequired.length>0&&(0,c.jsxs)("div",{className:"mt-1 flex flex-wrap gap-1",children:[t.skillsRequired.slice(0,3).map((e,t)=>c.jsx("span",{className:"inline-block bg-gray-100 text-gray-700 text-xs px-2 py-1 rounded",children:e},t)),t.skillsRequired.length>3&&(0,c.jsxs)("span",{className:"inline-block bg-gray-100 text-gray-700 text-xs px-2 py-1 rounded",children:["+",t.skillsRequired.length-3," more"]})]})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${_(t.department)}`,children:t.department})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,c.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,c.jsxs)("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs",children:[t._count.assignments," assigned"]}),t.assignments.length>0&&(0,c.jsxs)("div",{className:"flex -space-x-1",children:[t.assignments.slice(0,3).map(e=>(0,c.jsxs)("div",{className:"w-6 h-6 bg-gray-300 rounded-full flex items-center justify-center text-xs font-medium text-gray-700 border-2 border-white",title:`${e.users.firstName} ${e.users.lastName}`,children:[e.users.firstName.charAt(0),e.users.lastName.charAt(0)]},e.id)),t.assignments.length>3&&(0,c.jsxs)("div",{className:"w-6 h-6 bg-gray-400 rounded-full flex items-center justify-center text-xs font-medium text-white border-2 border-white",children:["+",t.assignments.length-3]})]})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,c.jsxs)("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded text-xs",children:[t._count.position_shifts," shifts"]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${t.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:t.isActive?"Active":"Inactive"})}),(0,c.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[c.jsx(g(),{href:`/admin/events/${e}/positions/${t.id}`,className:"text-blue-600 hover:text-blue-900 transition-colors",children:"\uD83D\uDCCB Manage"}),c.jsx(g(),{href:`/admin/events/${e}/positions/${t.id}/shifts`,className:"text-green-600 hover:text-green-900 transition-colors",children:"⏰ Shifts"}),c.jsx("button",{onClick:()=>E(t.id),className:"text-red-600 hover:text-red-900 transition-colors",children:"\uD83D\uDDD1️ Delete"})]})]},t.id))})]})}),P.pages>1&&c.jsx("div",{className:"bg-white px-4 py-3 border-t border-gray-200 sm:px-6",children:(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsxs)("div",{className:"text-sm text-gray-700",children:["Showing page ",P.page," of ",P.pages," (",P.total," total positions)"]}),(0,c.jsxs)("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:()=>A(P.page-1),disabled:!P.hasPrev,className:"px-3 py-1 text-sm bg-gray-200 text-gray-700 rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300",children:"Previous"}),c.jsx("span",{className:"px-3 py-1 text-sm bg-blue-600 text-white rounded",children:P.page}),c.jsx("button",{onClick:()=>A(P.page+1),disabled:!P.hasNext,className:"px-3 py-1 text-sm bg-gray-200 text-gray-700 rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-300",children:"Next"})]})]})})]})}),S&&c.jsx(y,{onClose:()=>k(!1),onSubmit:R,departments:r.map(e=>e.department)}),C&&c.jsx(j,{onClose:()=>D(!1),onSubmit:e=>{console.log("Bulk create positions:",e),D(!1)}})]})})}function y({onClose:e,onSubmit:t,departments:s}){let[r,a]=(0,p.useState)({positionNumber:"",title:"",department:"",description:"",requirements:"",skillsRequired:"",isActive:!0});return c.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:c.jsx("div",{className:"relative top-10 mx-auto p-5 border w-2/3 max-w-2xl shadow-lg rounded-md bg-white",children:(0,c.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t({positionNumber:parseInt(r.positionNumber),title:r.title,department:r.department,description:r.description||void 0,requirements:r.requirements||void 0,skillsRequired:r.skillsRequired?r.skillsRequired.split(",").map(e=>e.trim()):[],isActive:r.isActive})},className:"space-y-4",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Create New Position"}),(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,c.jsxs)("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Position Number *"}),c.jsx("input",{type:"number",required:!0,min:"1",value:r.positionNumber,onChange:e=>a({...r,positionNumber:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,c.jsxs)("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department *"}),c.jsx("input",{type:"text",required:!0,list:"departments",value:r.department,onChange:e=>a({...r,department:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),c.jsx("datalist",{id:"departments",children:s.map(e=>c.jsx("option",{value:e},e))})]})]}),(0,c.jsxs)("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Position Title *"}),c.jsx("input",{type:"text",required:!0,value:r.title,onChange:e=>a({...r,title:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Security Team Leader"})]}),(0,c.jsxs)("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),c.jsx("textarea",{rows:3,value:r.description,onChange:e=>a({...r,description:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Brief description of the position..."})]}),(0,c.jsxs)("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Requirements"}),c.jsx("textarea",{rows:2,value:r.requirements,onChange:e=>a({...r,requirements:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Position requirements..."})]}),(0,c.jsxs)("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Skills Required (comma-separated)"}),c.jsx("input",{type:"text",value:r.skillsRequired,onChange:e=>a({...r,skillsRequired:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Security, Leadership, Communication"})]}),(0,c.jsxs)("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",id:"isActive",checked:r.isActive,onChange:e=>a({...r,isActive:e.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),c.jsx("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-900",children:"Position is active"})]}),(0,c.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[c.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),c.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Create Position"})]})]})})})}function j({onClose:e,onSubmit:t}){return c.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:c.jsx("div",{className:"relative top-20 mx-auto p-5 border w-2/3 max-w-4xl shadow-lg rounded-md bg-white",children:(0,c.jsxs)("div",{className:"text-center py-8",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Bulk Position Creation"}),c.jsx("p",{className:"text-gray-600 mb-4",children:"This feature will allow CSV import and bulk position creation."}),c.jsx("p",{className:"text-sm text-gray-500",children:"Coming soon in the next update!"}),c.jsx("button",{onClick:e,className:"mt-4 px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors",children:"Close"})]})})})}let v=async e=>{let t=await (0,m.getServerSession)(e.req,e.res,x.L);return t?{props:{session:t}}:{redirect:{destination:"/auth/signin",permanent:!1}}},N=(0,l.l)(r,"default"),w=(0,l.l)(r,"getStaticProps"),S=(0,l.l)(r,"getStaticPaths"),k=(0,l.l)(r,"getServerSideProps"),C=(0,l.l)(r,"config"),D=(0,l.l)(r,"reportWebVitals"),P=(0,l.l)(r,"unstable_getStaticProps"),q=(0,l.l)(r,"unstable_getStaticPaths"),A=(0,l.l)(r,"unstable_getStaticParams"),$=(0,l.l)(r,"unstable_getServerProps"),R=(0,l.l)(r,"unstable_getServerSideProps"),E=new a.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/event-positions/[eventId]",pathname:"/event-positions/[eventId]",bundlePath:"",filename:""},components:{App:d.default,Document:o()},userland:r})},9061:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var r=s(997),a=s(1163),i=s(1649),l=s(1664),n=s.n(l);function o({children:e,title:t,breadcrumbs:s=[]}){let l=(0,a.useRouter)(),{data:o}=(0,i.useSession)(),d=async()=>{await (0,i.signOut)({callbackUrl:"/auth/signin"})};return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-200",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between h-16",children:[r.jsx("div",{className:"flex items-center",children:(0,r.jsxs)(n(),{href:"/admin",className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"h-8 w-8 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-sm",children:"JW"})})}),r.jsx("div",{className:"ml-3",children:r.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:"Admin Portal"})})]})}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("span",{className:"text-sm text-gray-700",children:["Welcome, ",o?.user?.name]}),r.jsx("button",{onClick:d,className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-3 py-2 rounded-md text-sm font-medium transition-colors",children:"Sign Out"})]})]})})}),(0,r.jsxs)("div",{className:"flex",children:[r.jsx("nav",{className:"w-64 bg-white shadow-sm min-h-screen border-r border-gray-200",children:r.jsx("div",{className:"p-4",children:r.jsx("ul",{className:"space-y-2",children:[{label:"Dashboard",href:"/admin",icon:"\uD83C\uDFE0"},{label:"User Management",href:"/admin/users",icon:"\uD83D\uDC65"},{label:"Health Monitor",href:"/admin/health",icon:"\uD83D\uDC9A"},{label:"API Status",href:"/admin/api-status",icon:"\uD83D\uDCCA"},{label:"Audit Logs",href:"/admin/audit-logs",icon:"\uD83D\uDCCB"},{label:"System Operations",href:"/admin/system-ops",icon:"⚡"},{label:"Email Configuration",href:"/admin/email-config",icon:"\uD83D\uDCE7"}].map(e=>{let t=l.pathname===e.href||"/admin"!==e.href&&l.pathname.startsWith(e.href);return r.jsx("li",{children:(0,r.jsxs)(n(),{href:e.href,className:`flex items-center px-3 py-2 rounded-md text-sm font-medium transition-colors ${t?"bg-blue-50 text-blue-700 border-r-2 border-blue-600":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"}`,children:[r.jsx("span",{className:"mr-3",children:e.icon}),e.label]})},e.href)})})})}),(0,r.jsxs)("main",{className:"flex-1",children:[s.length>0&&r.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-3",children:r.jsx("nav",{className:"flex","aria-label":"Breadcrumb",children:(0,r.jsxs)("ol",{className:"flex items-center space-x-2",children:[r.jsx("li",{children:r.jsx(n(),{href:"/admin",className:"text-gray-500 hover:text-gray-700",children:"Dashboard"})}),s.map((e,t)=>(0,r.jsxs)("li",{className:"flex items-center",children:[r.jsx("svg",{className:"flex-shrink-0 h-4 w-4 text-gray-400 mx-2",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),e.href?r.jsx(n(),{href:e.href,className:"text-gray-500 hover:text-gray-700",children:e.label}):r.jsx("span",{className:"text-gray-900 font-medium",children:e.label})]},t))]})})}),(0,r.jsxs)("div",{className:"p-6",children:[t&&r.jsx("div",{className:"mb-6",children:r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t})}),e]})]})]})]})}},6814:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var r=s(997),a=s(1649);function i({Component:e,pageProps:{session:t,...s}}){return r.jsx(a.SessionProvider,{session:t,children:r.jsx(e,{...s})})}s(6764)},5175:(e,t,s)=>{"use strict";s.d(t,{L:()=>c});var r=s(3227),a=s.n(r);let i=require("next-auth/providers/credentials");var l=s.n(i),n=s(8925);let o=require("bcryptjs");var d=s.n(o);let c={providers:[l()({name:"credentials",credentials:{email:{label:"Email",type:"email"},password:{label:"Password",type:"password"}},async authorize(e){if(!e?.email||!e?.password)return null;let t=await n.prisma.users.findUnique({where:{email:e.email}});return t&&t.passwordHash&&await d().compare(e.password,t.passwordHash)?{id:t.id,email:t.email,name:`${t.firstName} ${t.lastName}`,role:t.role}:null}})],session:{strategy:"jwt"},callbacks:{jwt:async({token:e,user:t})=>(t&&(e.role=t.role),e),session:async({session:e,token:t})=>(t&&(e.user.id=t.sub,e.user.role=t.role),e)},pages:{signIn:"/auth/signin"}};a()(c)},8925:(e,t,s)=>{"use strict";s.r(t),s.d(t,{prisma:()=>a});let r=require("@prisma/client"),a=globalThis.prisma??new r.PrismaClient},6764:()=>{},3227:e=>{"use strict";e.exports=require("next-auth")},1649:e=>{"use strict";e.exports=require("next-auth/react")},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},2048:e=>{"use strict";e.exports=require("fs")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},1568:e=>{"use strict";e.exports=require("zlib")}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[899,342,664],()=>s(2655));module.exports=r})();