(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[860],{5083:function(e,s,t){"use strict";t.d(s,{Z:function(){return c}});var r=t(5893),l=t(3299),a=t(1664),n=t.n(a),i=t(1163);function c(e){var s,t;let{children:a,title:c="JW Attendant Scheduler",breadcrumbs:d=[],selectedEvent:o}=e,{data:x}=(0,l.useSession)(),m=(0,i.useRouter)(),u=[{label:"Events",href:"/events",icon:"\uD83D\uDCC5",roles:["ADMIN","OVERSEER","ATTENDANT"]},{label:"Event Selection",href:"/events/select",icon:"\uD83C\uDFAF",roles:["ADMIN","OVERSEER","ATTENDANT"]}];["ADMIN","OVERSEER"].includes((null==x?void 0:null===(s=x.user)||void 0===s?void 0:s.role)||"")&&u.push({label:"Attendants",href:"/attendants",icon:"\uD83D\uDC65",roles:["ADMIN","OVERSEER"]}),(null==x?void 0:null===(t=x.user)||void 0===t?void 0:t.role)==="ADMIN"&&u.push({label:"Admin Portal",href:"/admin",icon:"\uD83D\uDEE1ï¸",roles:["ADMIN"]});let h=u.filter(e=>{var s;return e.roles.includes((null==x?void 0:null===(s=x.user)||void 0===s?void 0:s.role)||"")});return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)("nav",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between h-16",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsxs)(n(),{href:"/events/select",className:"flex items-center",children:[(0,r.jsx)("span",{className:"text-2xl font-bold text-blue-600",children:"\uD83D\uDCCB"}),(0,r.jsx)("span",{className:"ml-2 text-xl font-semibold text-gray-900",children:"JW Attendant Scheduler"})]}),(0,r.jsx)("div",{className:"hidden md:ml-8 md:flex md:space-x-4",children:h.map(e=>(0,r.jsxs)(n(),{href:e.href,className:"px-3 py-2 rounded-md text-sm font-medium transition-colors ".concat(m.pathname.startsWith(e.href)?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"),children:[(0,r.jsx)("span",{className:"mr-2",children:e.icon}),e.label]},e.href))})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[o&&(0,r.jsxs)("div",{className:"hidden md:flex items-center bg-blue-50 px-3 py-1 rounded-lg",children:[(0,r.jsxs)("span",{className:"text-sm text-blue-600 font-medium",children:["\uD83D\uDCC5 ",o.name]}),o.status&&(0,r.jsx)("span",{className:"ml-2 px-2 py-0.5 text-xs rounded-full ".concat("current"===o.status?"bg-green-100 text-green-800":"upcoming"===o.status?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:o.status})]}),(null==x?void 0:x.user)&&(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("span",{className:"text-sm text-gray-700",children:x.user.name}),(0,r.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat("ADMIN"===x.user.role?"bg-red-100 text-red-800":"OVERSEER"===x.user.role?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"),children:x.user.role}),(0,r.jsx)("button",{onClick:()=>{(0,l.signOut)({callbackUrl:"/auth/signin"})},className:"text-sm text-gray-600 hover:text-gray-900 transition-colors",children:"Sign Out"})]})]})]})})}),d.length>0&&(0,r.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3",children:(0,r.jsx)("nav",{className:"flex","aria-label":"Breadcrumb",children:(0,r.jsx)("ol",{className:"flex items-center space-x-2",children:d.map((e,s)=>(0,r.jsxs)("li",{className:"flex items-center",children:[s>0&&(0,r.jsx)("svg",{className:"w-4 h-4 text-gray-400 mx-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),e.href?(0,r.jsx)(n(),{href:e.href,className:"text-sm text-blue-600 hover:text-blue-800",children:e.label}):(0,r.jsx)("span",{className:"text-sm text-gray-500",children:e.label})]},s))})})})}),(0,r.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c&&(0,r.jsx)("div",{className:"mb-8",children:(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:c})}),a]})]})}},3850:function(e,s,t){"use strict";t.d(s,{Z:function(){return n}});var r=t(5893),l=t(7294),a=t(5516);function n(e){let{selectedForms:s,onChange:t,disabled:n=!1,className:i="",label:c="Forms of Service",required:d=!1}=e,[o,x]=(0,l.useState)(!1),m=e=>{s.includes(e)?t(s.filter(s=>s!==e)):t([...s,e])};return(0,r.jsxs)("div",{className:"relative ".concat(i),children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[c,d&&(0,r.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("button",{type:"button",onClick:()=>x(!o),disabled:n,className:"\n            w-full px-3 py-2 border border-gray-300 rounded-md bg-white text-left\n            focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\n            ".concat(n?"bg-gray-100 cursor-not-allowed":"hover:border-gray-400 cursor-pointer","\n            ").concat(0===s.length?"text-gray-500":"text-gray-900","\n          "),children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"block truncate",children:0===s.length?"Select forms of service...":1===s.length?s[0]:"".concat(s.length," forms selected")}),(0,r.jsx)("svg",{className:"h-5 w-5 text-gray-400 transition-transform ".concat(o?"rotate-180":""),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})}),o&&(0,r.jsx)("div",{className:"absolute z-10 mt-1 w-full bg-white border border-gray-300 rounded-md shadow-lg",children:(0,r.jsxs)("div",{className:"py-1",children:[(0,r.jsx)("div",{className:"px-3 py-2 border-b border-gray-200 bg-gray-50",children:(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("button",{type:"button",onClick:()=>{t(a.G)},className:"text-xs text-blue-600 hover:text-blue-800 font-medium",children:"Select All"}),(0,r.jsx)("button",{type:"button",onClick:()=>{t([])},className:"text-xs text-gray-600 hover:text-gray-800 font-medium",children:"Clear All"})]})}),(0,r.jsx)("div",{className:"max-h-60 overflow-y-auto",children:a.G.map(e=>(0,r.jsxs)("label",{className:"flex items-center px-3 py-2 hover:bg-gray-100 cursor-pointer",children:[(0,r.jsx)("input",{type:"checkbox",checked:s.includes(e),onChange:()=>m(e),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,r.jsx)("span",{className:"ml-2 text-sm text-gray-900",children:e})]},e))})]})})]}),s.length>0&&(0,r.jsx)("div",{className:"mt-2 flex flex-wrap gap-1",children:s.map(e=>(0,r.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-blue-100 text-blue-800",children:[e,(0,r.jsx)("button",{type:"button",onClick:()=>m(e),className:"ml-1 h-3 w-3 rounded-full hover:bg-blue-200 flex items-center justify-center",children:(0,r.jsx)("svg",{className:"h-2 w-2",fill:"currentColor",viewBox:"0 0 8 8",children:(0,r.jsx)("path",{d:"M1.41 0l-1.41 1.41.72.72 1.78 1.81-1.78 1.81-.72.72 1.41 1.41.72-.72 1.81-1.78 1.81 1.78.72.72 1.41-1.41-.72-.72-1.78-1.81 1.78-1.81.72-.72-1.41-1.41-.72.72-1.81 1.78-1.81-1.78-.72-.72z"})})})]},e))}),o&&(0,r.jsx)("div",{className:"fixed inset-0 z-0",onClick:()=>x(!1)})]})}},4685:function(e,s,t){"use strict";t.d(s,{Z:function(){return n}});var r=t(5893);t(7294);let l={primary:"bg-blue-600 hover:bg-blue-700 text-white border-transparent",secondary:"bg-gray-100 hover:bg-gray-200 text-gray-700 border-gray-300",danger:"bg-red-600 hover:bg-red-700 text-white border-transparent",success:"bg-green-600 hover:bg-green-700 text-white border-transparent"},a={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"};function n(e){let{onClick:s,variant:t="primary",size:n="md",disabled:i=!1,loading:c=!1,children:d,className:o="",type:x="button"}=e;return(0,r.jsxs)("button",{type:x,onClick:e=>{"button"===x&&e.preventDefault(),s(e)},disabled:i||c,className:"\n        inline-flex items-center justify-center\n        border rounded-md font-medium\n        focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\n        transition-colors duration-200\n        ".concat(l[t],"\n        ").concat(a[n],"\n        ").concat(i||c?"opacity-50 cursor-not-allowed":"cursor-pointer","\n        ").concat(o,"\n      "),children:[c&&(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),d]})}},3305:function(e,s,t){"use strict";t.d(s,{Z:function(){return n}});var r=t(5893);t(7294);let l={Elder:"bg-purple-100 text-purple-800","Ministerial Servant":"bg-blue-100 text-blue-800",Exemplary:"bg-green-100 text-green-800","Regular Pioneer":"bg-yellow-100 text-yellow-800","Other Department":"bg-gray-100 text-gray-800"},a={Elder:"Elder","Ministerial Servant":"MS",Exemplary:"Exemplary","Regular Pioneer":"RP","Other Department":"Other"};function n(e){let{form:s,className:t="",size:n="sm"}=e;return(0,r.jsx)("span",{className:"\n        inline-flex font-medium rounded-full\n        ".concat(l[s],"\n        ").concat("sm"===n?"px-2 py-1 text-xs":"px-3 py-1 text-sm","\n        ").concat(t,"\n      "),title:s,children:a[s]})}},5340:function(e,s,t){"use strict";t.d(s,{Z:function(){return n}});var r=t(5893);function l(e){let{value:s,onChange:t,placeholder:l="Search attendants...",disabled:a=!1,className:n=""}=e;return(0,r.jsxs)("div",{className:"relative ".concat(n),children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,r.jsx)("input",{type:"text",value:s,onChange:e=>t(e.target.value),placeholder:l,disabled:a,className:"\n          block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md\n          placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\n          ".concat(a?"bg-gray-100 cursor-not-allowed":"bg-white","\n          sm:text-sm\n        ")})]})}t(7294);var a=t(3850);function n(e){var s;let{filters:t,onFiltersChange:n,congregations:i,loading:c=!1}=e,d=e=>{n({...t,search:e})},o=e=>{n({...t,congregation:e})},x=e=>{n({...t,isActive:e})},m=e=>{n({...t,hasUser:e})},u=!!(t.search||t.congregation||(null===(s=t.formsOfService)||void 0===s?void 0:s.length)||void 0!==t.isActive||void 0!==t.hasUser);return(0,r.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Filters"}),u&&(0,r.jsx)("button",{onClick:()=>{n({})},disabled:c,className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Clear All"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,r.jsxs)("div",{className:"lg:col-span-1",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),(0,r.jsx)(l,{value:t.search||"",onChange:d,placeholder:"Search by name, email, or congregation...",disabled:c})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Congregation"}),(0,r.jsxs)("select",{value:t.congregation||"",onChange:e=>o(e.target.value),disabled:c,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[(0,r.jsx)("option",{value:"",children:"All Congregations"}),i.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,r.jsxs)("select",{value:void 0===t.isActive?"":t.isActive.toString(),onChange:e=>{let s=e.target.value;x(""===s?void 0:"true"===s)},disabled:c,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[(0,r.jsx)("option",{value:"",children:"All Status"}),(0,r.jsx)("option",{value:"true",children:"Active"}),(0,r.jsx)("option",{value:"false",children:"Inactive"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"User Account"}),(0,r.jsxs)("select",{value:void 0===t.hasUser?"":t.hasUser.toString(),onChange:e=>{let s=e.target.value;m(""===s?void 0:"true"===s)},disabled:c,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[(0,r.jsx)("option",{value:"",children:"All Users"}),(0,r.jsx)("option",{value:"true",children:"Has Account"}),(0,r.jsx)("option",{value:"false",children:"No Account"})]})]})]}),(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsx)(a.Z,{selectedForms:t.formsOfService||[],onChange:e=>{n({...t,formsOfService:e})},disabled:c,label:"Filter by Forms of Service"})}),u&&(0,r.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:(0,r.jsxs)("div",{className:"flex flex-wrap gap-2",children:[t.search&&(0,r.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-blue-100 text-blue-800",children:['Search: "',t.search,'"',(0,r.jsx)("button",{onClick:()=>d(""),className:"ml-1 h-3 w-3 rounded-full hover:bg-blue-200 flex items-center justify-center",children:"\xd7"})]}),t.congregation&&(0,r.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-green-100 text-green-800",children:["Congregation: ",t.congregation,(0,r.jsx)("button",{onClick:()=>o(""),className:"ml-1 h-3 w-3 rounded-full hover:bg-green-200 flex items-center justify-center",children:"\xd7"})]}),void 0!==t.isActive&&(0,r.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-yellow-100 text-yellow-800",children:["Status: ",t.isActive?"Active":"Inactive",(0,r.jsx)("button",{onClick:()=>x(void 0),className:"ml-1 h-3 w-3 rounded-full hover:bg-yellow-200 flex items-center justify-center",children:"\xd7"})]})]})})]})}},6923:function(e,s,t){"use strict";t.d(s,{Z:function(){return i}});var r=t(5893),l=t(7294),a=t(4685),n=t(3850);function i(e){let{isOpen:s,onClose:t,onSave:i,attendant:c=null,loading:d=!1}=e,[o,x]=(0,l.useState)({firstName:"",lastName:"",email:"",phone:"",congregation:"",formsOfService:[],isActive:!0,notes:""}),[m,u]=(0,l.useState)({}),[h,g]=(0,l.useState)(!1);(0,l.useEffect)(()=>{s&&(c?x({firstName:c.firstName,lastName:c.lastName,email:c.email,phone:c.phone||"",congregation:c.congregation,formsOfService:c.formsOfService,isActive:c.isActive,notes:c.notes||"",userId:c.userId||void 0}):x({firstName:"",lastName:"",email:"",phone:"",congregation:"",formsOfService:[],isActive:!0,notes:""}),u({}))},[s,c]);let p=()=>{let e={};return o.firstName.trim()||(e.firstName="First name is required"),o.lastName.trim()||(e.lastName="Last name is required"),o.email.trim()?/\S+@\S+\.\S+/.test(o.email)||(e.email="Please enter a valid email address"):e.email="Email is required",o.congregation.trim()||(e.congregation="Congregation is required"),0===o.formsOfService.length&&(e.formsOfService="At least one form of service is required"),u(e),0===Object.keys(e).length},f=async e=>{if(e.preventDefault(),p())try{g(!0),await i(o),t()}catch(e){}finally{g(!1)}},v=(e,s)=>{x(t=>({...t,[e]:s})),m[e]&&u(s=>({...s,[e]:""}))};return s?(0,r.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,r.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 xl:w-2/5 shadow-lg rounded-md bg-white",children:(0,r.jsx)("form",{onSubmit:f,children:(0,r.jsxs)("div",{className:"mt-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:c?"Edit Attendant":"Create New Attendant"}),(0,r.jsx)("button",{type:"button",onClick:t,disabled:h,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,r.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["First Name ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:"text",value:o.firstName,onChange:e=>v("firstName",e.target.value),disabled:h,className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(m.firstName?"border-red-300":"border-gray-300"),placeholder:"Enter first name"}),m.firstName&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:m.firstName})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Last Name ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:"text",value:o.lastName,onChange:e=>v("lastName",e.target.value),disabled:h,className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(m.lastName?"border-red-300":"border-gray-300"),placeholder:"Enter last name"}),m.lastName&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:m.lastName})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:"email",value:o.email,onChange:e=>v("email",e.target.value),disabled:h,className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(m.email?"border-red-300":"border-gray-300"),placeholder:"Enter email address"}),m.email&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:m.email})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),(0,r.jsx)("input",{type:"tel",value:o.phone,onChange:e=>v("phone",e.target.value),disabled:h,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter phone number"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Congregation ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{type:"text",value:o.congregation,onChange:e=>v("congregation",e.target.value),disabled:h,className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(m.congregation?"border-red-300":"border-gray-300"),placeholder:"Enter congregation name"}),m.congregation&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:m.congregation})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(n.Z,{selectedForms:o.formsOfService,onChange:e=>v("formsOfService",e),disabled:h,required:!0}),m.formsOfService&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:m.formsOfService})]}),(0,r.jsx)("div",{children:(0,r.jsxs)("label",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",checked:o.isActive,onChange:e=>v("isActive",e.target.checked),disabled:h,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,r.jsx)("span",{className:"ml-2 text-sm font-medium text-gray-700",children:"Active (available for assignments)"})]})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),(0,r.jsx)("textarea",{value:o.notes,onChange:e=>v("notes",e.target.value),disabled:h,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Optional notes about this attendant"})]})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3 mt-6 pt-6 border-t border-gray-200",children:[(0,r.jsx)(a.Z,{onClick:t,variant:"secondary",disabled:h,children:"Cancel"}),(0,r.jsx)(a.Z,{onClick:()=>{},type:"submit",variant:"primary",loading:h,disabled:h,children:c?"Update Attendant":"Create Attendant"})]})]})})})}):null}},7497:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});var r=t(5893);t(7294);var l=t(3305);function a(e){let{stats:s,loading:t=!1,className:a=""}=e;if(t)return(0,r.jsx)("div",{className:"bg-white rounded-lg shadow p-6 ".concat(a),children:(0,r.jsxs)("div",{className:"animate-pulse",children:[(0,r.jsx)("div",{className:"h-6 bg-gray-200 rounded mb-4"}),(0,r.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[void 0,void 0,void 0,void 0].map((e,s)=>(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"h-8 bg-gray-200 rounded mb-2"}),(0,r.jsx)("div",{className:"h-4 bg-gray-200 rounded"})]},s))})]})});let n=Object.entries(s.byCongregation).sort((e,s)=>{let[,t]=e,[,r]=s;return r-t}).slice(0,5),i=Object.entries(s.byFormsOfService).filter(e=>{let[,s]=e;return s>0}).sort((e,s)=>{let[,t]=e,[,r]=s;return r-t});return(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow ".concat(a),children:[(0,r.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Attendant Statistics"})}),(0,r.jsxs)("div",{className:"p-6 space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Overview"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,r.jsxs)("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:s.total}),(0,r.jsx)("div",{className:"text-sm text-blue-800",children:"Total"})]}),(0,r.jsxs)("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-green-600",children:s.active}),(0,r.jsx)("div",{className:"text-sm text-green-800",children:"Active"})]}),(0,r.jsxs)("div",{className:"text-center p-3 bg-red-50 rounded-lg",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-red-600",children:s.inactive}),(0,r.jsx)("div",{className:"text-sm text-red-800",children:"Inactive"})]}),(0,r.jsxs)("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[(0,r.jsxs)("div",{className:"text-2xl font-bold text-purple-600",children:[Math.round(s.active/s.total*100)||0,"%"]}),(0,r.jsx)("div",{className:"text-sm text-purple-800",children:"Active Rate"})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"User Accounts"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[(0,r.jsx)("div",{className:"text-xl font-bold text-green-600",children:s.withUsers}),(0,r.jsx)("div",{className:"text-sm text-green-800",children:"With Accounts"})]}),(0,r.jsxs)("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[(0,r.jsx)("div",{className:"text-xl font-bold text-gray-600",children:s.withoutUsers}),(0,r.jsx)("div",{className:"text-sm text-gray-800",children:"No Account"})]})]})]}),i.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Forms of Service"}),(0,r.jsx)("div",{className:"space-y-2",children:i.map(e=>{let[t,a]=e;return(0,r.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(l.Z,{form:t}),(0,r.jsx)("span",{className:"text-sm text-gray-700",children:t})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-900",children:a}),(0,r.jsx)("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:(0,r.jsx)("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"".concat(a/s.total*100,"%")}})})]})]},t)})})]}),n.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:["Top Congregations",Object.keys(s.byCongregation).length>5&&(0,r.jsx)("span",{className:"text-xs text-gray-500 ml-1",children:"(showing top 5)"})]}),(0,r.jsx)("div",{className:"space-y-2",children:n.map(e=>{let[t,l]=e;return(0,r.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[(0,r.jsx)("span",{className:"text-sm text-gray-700 truncate flex-1 mr-2",children:t}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-900",children:l}),(0,r.jsx)("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:(0,r.jsx)("div",{className:"bg-green-600 h-2 rounded-full",style:{width:"".concat(l/s.total*100,"%")}})})]})]},t)})}),Object.keys(s.byCongregation).length>5&&(0,r.jsx)("div",{className:"text-center mt-2",children:(0,r.jsxs)("span",{className:"text-xs text-gray-500",children:["+",Object.keys(s.byCongregation).length-5," more congregations"]})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Quick Insights"}),(0,r.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),(0,r.jsxs)("span",{children:[Object.keys(s.byCongregation).length," congregations represented"]})]}),s.withUsers>0&&(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("svg",{className:"w-4 h-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),(0,r.jsxs)("span",{children:[Math.round(s.withUsers/s.total*100),"% have user accounts"]})]}),i.length>0&&(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("svg",{className:"w-4 h-4 text-purple-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),(0,r.jsxs)("span",{children:["Most common: ",i[0][0]," (",i[0][1]," attendants)"]})]})]})]})]})]})}},5924:function(e,s,t){"use strict";t.d(s,{Z:function(){return c}});var r=t(5893),l=t(7294);function a(e){let{isActive:s,className:t=""}=e;return(0,r.jsx)("span",{className:"\n        inline-flex px-2 py-1 text-xs font-semibold rounded-full\n        ".concat(s?"bg-green-100 text-green-800":"bg-red-100 text-red-800","\n        ").concat(t,"\n      "),children:s?"Active":"Inactive"})}var n=t(3305),i=t(4685);function c(e){let{attendants:s,loading:t=!1,onEdit:c,onDelete:d,onSelect:o,selectedIds:x=[],onBulkStatusChange:m}=e,[u,h]=(0,l.useState)("lastName"),[g,p]=(0,l.useState)("asc"),f=e=>{u===e?p("asc"===g?"desc":"asc"):(h(e),p("asc"))},v=e=>{o&&o(e?s.map(e=>e.id):[])},j=(e,s)=>{o&&(s?o([...x,e]):o(x.filter(s=>s!==e)))},b=[...s].sort((e,s)=>{let t=e[u],r=s[u];if(null==t)return 1;if(null==r)return -1;let l=t<r?-1:t>r?1:0;return"asc"===g?l:-l}),N=e=>{let{field:s}=e;return u!==s?(0,r.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"})}):"asc"===g?(0,r.jsx)("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})}):(0,r.jsx)("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})},y=s.length>0&&x.length===s.length,w=x.length>0&&x.length<s.length;return t?(0,r.jsx)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:(0,r.jsxs)("div",{className:"px-6 py-12 text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,r.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading attendants..."})]})}):0===s.length?(0,r.jsx)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:(0,r.jsx)("div",{className:"px-6 py-12 text-center text-gray-500",children:(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)("svg",{className:"w-12 h-12 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),(0,r.jsx)("p",{className:"text-lg font-medium",children:"No attendants found"}),(0,r.jsx)("p",{className:"text-sm",children:"Try adjusting your filters or create a new attendant"})]})})}):(0,r.jsx)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full table-fixed divide-y divide-gray-200",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[o&&(0,r.jsx)("th",{className:"px-3 py-3 text-left w-12",children:(0,r.jsx)("input",{type:"checkbox",checked:y,ref:e=>{e&&(e.indeterminate=w)},onChange:e=>v(e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})}),(0,r.jsx)("th",{className:"px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 w-[15%]",onClick:()=>f("lastName"),children:(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,r.jsx)("span",{children:"Name"}),(0,r.jsx)(N,{field:"lastName"})]})}),(0,r.jsx)("th",{className:"px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 w-[20%]",onClick:()=>f("email"),children:(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,r.jsx)("span",{children:"Email"}),(0,r.jsx)(N,{field:"email"})]})}),(0,r.jsx)("th",{className:"px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-[10%]",children:"Phone"}),(0,r.jsx)("th",{className:"px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 w-[12%]",onClick:()=>f("congregation"),children:(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,r.jsx)("span",{children:"Congregation"}),(0,r.jsx)(N,{field:"congregation"})]})}),(0,r.jsx)("th",{className:"px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-[15%]",children:"Forms of Service"}),(0,r.jsx)("th",{className:"px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 w-[8%]",onClick:()=>f("isActive"),children:(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,r.jsx)("span",{children:"Status"}),(0,r.jsx)(N,{field:"isActive"})]})}),(0,r.jsx)("th",{className:"px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-[10%]",children:"User Account"}),(0,r.jsx)("th",{className:"px-2 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-[10%]",children:"Actions"})]})}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:b.map(e=>{var s,t;return(0,r.jsxs)("tr",{className:"hover:bg-gray-50",children:[o&&(0,r.jsx)("td",{className:"px-2 py-3",children:(0,r.jsx)("input",{type:"checkbox",checked:x.includes(e.id),onChange:s=>j(e.id,s.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})}),(0,r.jsx)("td",{className:"px-2 py-3",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0 h-6 w-6",children:(0,r.jsx)("div",{className:"h-6 w-6 rounded-full bg-blue-100 flex items-center justify-center",children:(0,r.jsxs)("span",{className:"text-blue-600 font-medium text-xs",children:[e.firstName[0],e.lastName[0]]})})}),(0,r.jsx)("div",{className:"ml-2 truncate",children:(0,r.jsxs)("div",{className:"text-sm font-medium text-gray-900 truncate",children:[e.firstName," ",e.lastName]})})]})}),(0,r.jsx)("td",{className:"px-2 py-3 text-sm text-gray-500",children:(0,r.jsx)("div",{className:"truncate",title:e.email,children:e.email})}),(0,r.jsx)("td",{className:"px-2 py-3 text-sm text-gray-500",children:(0,r.jsx)("div",{className:"truncate",children:e.phone||"N/A"})}),(0,r.jsx)("td",{className:"px-2 py-3 text-sm text-gray-500",children:(0,r.jsx)("div",{className:"truncate",title:e.congregation,children:e.congregation})}),(0,r.jsx)("td",{className:"px-2 py-3",children:(0,r.jsxs)("div",{className:"flex flex-wrap gap-1",children:[null===(s=e.formsOfService)||void 0===s?void 0:s.slice(0,2).map((e,s)=>(0,r.jsx)(n.Z,{form:e},s)),(null===(t=e.formsOfService)||void 0===t?void 0:t.length)>2&&(0,r.jsxs)("span",{className:"text-xs text-gray-500",children:["+",e.formsOfService.length-2]})]})}),(0,r.jsx)("td",{className:"px-2 py-3",children:(0,r.jsx)(a,{isActive:e.isActive})}),(0,r.jsx)("td",{className:"px-2 py-3 text-sm text-gray-500",children:e.users?(0,r.jsx)("span",{className:"inline-flex items-center px-1 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800",children:"Linked"}):(0,r.jsx)("span",{className:"inline-flex items-center px-1 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-800",children:"No Account"})}),(0,r.jsx)("td",{className:"px-2 py-3 text-sm font-medium",children:(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[c&&(0,r.jsx)(i.Z,{onClick:()=>c(e),variant:"secondary",size:"sm",children:"Edit"}),d&&(0,r.jsx)(i.Z,{onClick:()=>d(e.id),variant:"danger",size:"sm",children:"Delete"})]})})]},e.id)})})]})})})}},664:function(e,s,t){"use strict";t.d(s,{Z:function(){return i}});var r=t(5893),l=t(7294),a=t(5516),n=t(4685);function i(e){var s;let{isOpen:t,onClose:i,onImport:c,eventId:d,loading:o=!1}=e,[x,m]=(0,l.useState)(""),[u,h]=(0,l.useState)(null),[g,p]=(0,l.useState)([]),[f,v]=(0,l.useState)([]),[j,b]=(0,l.useState)(!1),[N,y]=(0,l.useState)("input"),[w,k]=(0,l.useState)(null),[C,S]=(0,l.useState)("file"),A=e=>{try{let s=e.trim().split("\n"),t=s[0].split(",").map(e=>e.trim().replace(/"/g,"")),r=["firstName","lastName","email","congregation","formsOfService"].filter(e=>!t.includes(e));if(r.length>0){v(["Missing required columns: ".concat(r.join(", "))]);return}let l=[],n=[];for(let e=1;e<s.length;e++){let r=s[e].trim();if(!r)continue;let i=r.split(",").map(e=>e.trim().replace(/"/g,"")),c={};if(t.forEach((e,s)=>{c[e]=i[s]||""}),!c.firstName){n.push("Row ".concat(e+1,": First name is required"));continue}if(!c.lastName){n.push("Row ".concat(e+1,": Last name is required"));continue}if(!c.email||!/\S+@\S+\.\S+/.test(c.email)){n.push("Row ".concat(e+1,": Valid email is required"));continue}if(!c.congregation){n.push("Row ".concat(e+1,": Congregation is required"));continue}if(!c.formsOfService){n.push("Row ".concat(e+1,": Forms of service are required"));continue}let d=c.formsOfService.split(",").map(e=>e.trim()).filter(e=>!a.G.includes(e));if(d.length>0){n.push("Row ".concat(e+1,": Invalid forms of service: ").concat(d.join(", ")));continue}c.isActive="false"!==c.isActive,c.phone=c.phone||"",c.notes=c.notes||"",l.push(c)}if(n.length>0){v(n);return}p(l),v([]),y("preview")}catch(e){v(["Error parsing CSV data. Please check the format."])}},E=async()=>{try{b(!0);let e=await c({attendants:g,eventId:d});k(e),y("results")}catch(e){v([e instanceof Error?e.message:"Import failed"])}finally{b(!1)}},M=()=>{m(""),h(null),p([]),v([]),y("input"),k(null);let e=document.getElementById("csv-file-input");e&&(e.value="")},D=()=>{M(),i()};return t?(0,r.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,r.jsx)("div",{className:"relative top-10 mx-auto p-5 border w-11/12 md:w-4/5 lg:w-3/4 xl:w-2/3 shadow-lg rounded-md bg-white max-h-[90vh] overflow-y-auto",children:(0,r.jsxs)("div",{className:"mt-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Bulk Import Attendants"}),(0,r.jsx)("button",{type:"button",onClick:D,disabled:j,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,r.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsxs)("div",{className:"flex items-center ".concat("input"===N?"text-blue-600":"text-green-600"),children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ".concat("input"===N?"bg-blue-100":"bg-green-100"),children:"1"}),(0,r.jsx)("span",{className:"ml-2 text-sm font-medium",children:"Input CSV"})]}),(0,r.jsx)("div",{className:"flex-1 h-px bg-gray-300 mx-4"}),(0,r.jsxs)("div",{className:"flex items-center ".concat("preview"===N?"text-blue-600":"results"===N?"text-green-600":"text-gray-400"),children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ".concat("preview"===N?"bg-blue-100":"results"===N?"bg-green-100":"bg-gray-100"),children:"2"}),(0,r.jsx)("span",{className:"ml-2 text-sm font-medium",children:"Preview"})]}),(0,r.jsx)("div",{className:"flex-1 h-px bg-gray-300 mx-4"}),(0,r.jsxs)("div",{className:"flex items-center ".concat("results"===N?"text-blue-600":"text-gray-400"),children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ".concat("results"===N?"bg-blue-100":"bg-gray-100"),children:"3"}),(0,r.jsx)("span",{className:"ml-2 text-sm font-medium",children:"Results"})]})]})}),"input"===N&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:(0,r.jsxs)("div",{className:"flex items-start",children:[(0,r.jsx)("svg",{className:"w-5 h-5 text-blue-600 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,r.jsxs)("div",{className:"ml-3",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-blue-800",children:"CSV Format Requirements"}),(0,r.jsxs)("div",{className:"mt-2 text-sm text-blue-700",children:[(0,r.jsx)("p",{children:"Required columns: firstName, lastName, email, congregation, formsOfService"}),(0,r.jsx)("p",{children:"Optional columns: phone, isActive, notes"}),(0,r.jsxs)("p",{children:["Forms of Service: ",a.G.join(", ")]})]})]})]})}),(0,r.jsxs)("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg mb-4",children:[(0,r.jsx)("button",{type:"button",onClick:()=>S("file"),className:"flex-1 py-2 px-4 text-sm font-medium rounded-md transition-colors ".concat("file"===C?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:"\uD83D\uDCC1 Upload CSV File"}),(0,r.jsx)("button",{type:"button",onClick:()=>S("text"),className:"flex-1 py-2 px-4 text-sm font-medium rounded-md transition-colors ".concat("text"===C?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:"\uD83D\uDCDD Paste CSV Text"})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"file"===C?"CSV File Upload":"CSV Data"}),(0,r.jsx)(n.Z,{onClick:()=>{let e=new Blob(['firstName,lastName,email,phone,congregation,formsOfService,isActive,notes\nJohn,Smith,john.smith@example.com,216-555-0123,Central Congregation,"Elder,Exemplary",true,Available for all assignments\nJane,Doe,jane.doe@example.com,216-555-0124,North Congregation,"Ministerial Servant,Regular Pioneer",true,\nMike,Johnson,mike.j@example.com,,South Congregation,"Other Department",false,Currently unavailable'],{type:"text/csv"}),s=URL.createObjectURL(e),t=document.createElement("a");t.href=s,t.download="attendant_import_template.csv",document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(s)},variant:"secondary",size:"sm",children:"\uD83D\uDCE5 Download Template"})]}),"file"===C?(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("div",{className:"flex items-center justify-center w-full",children:(0,r.jsxs)("label",{htmlFor:"csv-file-input",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors",children:[(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[(0,r.jsx)("svg",{className:"w-8 h-8 mb-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),(0,r.jsxs)("p",{className:"mb-2 text-sm text-gray-500",children:[(0,r.jsx)("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:"CSV files only"})]}),(0,r.jsx)("input",{id:"csv-file-input",type:"file",accept:".csv,text/csv",onChange:e=>{var s;let t=null===(s=e.target.files)||void 0===s?void 0:s[0];if(t){if("text/csv"!==t.type&&!t.name.endsWith(".csv")){v(["Please select a CSV file"]);return}h(t),v([])}},disabled:j,className:"hidden"})]})}),u&&(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-green-50 border border-green-200 rounded-md",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("svg",{className:"w-5 h-5 text-green-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,r.jsx)("span",{className:"text-sm text-green-800 font-medium",children:u.name}),(0,r.jsxs)("span",{className:"text-xs text-green-600 ml-2",children:["(",(u.size/1024).toFixed(1)," KB)"]})]}),(0,r.jsx)("button",{type:"button",onClick:()=>h(null),className:"text-green-600 hover:text-green-800 transition-colors",children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}):(0,r.jsx)("textarea",{value:x,onChange:e=>m(e.target.value),disabled:j,rows:12,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm",placeholder:"Paste your CSV data here or download the template to get started..."}),f.length>0&&(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,r.jsxs)("div",{className:"ml-3",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-red-800",children:"Validation Errors"}),(0,r.jsx)("ul",{className:"mt-2 text-sm text-red-700 list-disc list-inside",children:f.map((e,s)=>(0,r.jsx)("li",{children:e},s))})]})]})})]}),"preview"===N&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("h4",{className:"text-md font-medium text-gray-900",children:["Preview (",g.length," attendants)"]}),(0,r.jsx)(n.Z,{onClick:()=>y("input"),variant:"secondary",size:"sm",children:"Back to Edit"})]}),(0,r.jsx)("div",{className:"max-h-96 overflow-y-auto border border-gray-200 rounded-md",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,r.jsx)("thead",{className:"bg-gray-50 sticky top-0",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),(0,r.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Email"}),(0,r.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Congregation"}),(0,r.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Forms of Service"}),(0,r.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:g.map((e,s)=>(0,r.jsxs)("tr",{children:[(0,r.jsxs)("td",{className:"px-4 py-2 text-sm text-gray-900",children:[e.firstName," ",e.lastName]}),(0,r.jsx)("td",{className:"px-4 py-2 text-sm text-gray-500",children:e.email}),(0,r.jsx)("td",{className:"px-4 py-2 text-sm text-gray-500",children:e.congregation}),(0,r.jsx)("td",{className:"px-4 py-2 text-sm text-gray-500",children:e.formsOfService}),(0,r.jsx)("td",{className:"px-4 py-2 text-sm text-gray-500",children:e.isActive?"Active":"Inactive"})]},s))})]})})]}),"results"===N&&w&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h4",{className:"text-md font-medium text-gray-900",children:"Import Results"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-md p-4",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-green-600",children:w.created||0}),(0,r.jsx)("div",{className:"text-sm text-green-800",children:"Created"})]})}),(0,r.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:w.updated||0}),(0,r.jsx)("div",{className:"text-sm text-blue-800",children:"Updated"})]})}),(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-red-600",children:(null===(s=w.errors)||void 0===s?void 0:s.length)||0}),(0,r.jsx)("div",{className:"text-sm text-red-800",children:"Errors"})]})})]}),w.errors&&w.errors.length>0&&(0,r.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:[(0,r.jsx)("h5",{className:"text-sm font-medium text-red-800 mb-2",children:"Import Errors"}),(0,r.jsx)("div",{className:"max-h-40 overflow-y-auto",children:w.errors.map((e,s)=>(0,r.jsxs)("div",{className:"text-sm text-red-700",children:["Row ",e.row," (",e.email,"): ",e.error]},s))})]})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3 mt-6 pt-6 border-t border-gray-200",children:["input"===N&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.Z,{onClick:D,variant:"secondary",children:"Cancel"}),(0,r.jsx)(n.Z,{onClick:"file"===C?()=>{if(!u){v(["Please select a CSV file"]);return}let e=new FileReader;e.onload=e=>{var s;A(null===(s=e.target)||void 0===s?void 0:s.result)},e.onerror=()=>{v(["Error reading file"])},e.readAsText(u)}:()=>{if(!x.trim()){v(["Please enter CSV data"]);return}A(x)},variant:"primary",disabled:"file"===C?!u:!x.trim(),children:"file"===C?"Process File":"Parse CSV"})]}),"preview"===N&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.Z,{onClick:()=>y("input"),variant:"secondary",children:"Back"}),(0,r.jsxs)(n.Z,{onClick:E,variant:"primary",loading:j,disabled:j,children:["Import ",g.length," Attendants"]})]}),"results"===N&&(0,r.jsx)(n.Z,{onClick:D,variant:"primary",children:"Done"})]})]})})}):null}},5516:function(e,s,t){"use strict";t.d(s,{G:function(){return r}});let r=["Elder","Ministerial Servant","Exemplary","Regular Pioneer","Other Department"];r.map(e=>({value:e,label:e}))},9008:function(e,s,t){e.exports=t(3867)}}]);