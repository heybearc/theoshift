(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[336],{9472:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/events/[id]/lanyards",function(){return t(6802)}])},5083:function(e,r,t){"use strict";t.d(r,{Z:function(){return i}});var a=t(5893),s=t(3299),n=t(1664),l=t.n(n),d=t(1163);function i(e){var r;let{children:t,title:n="JW Attendant Scheduler",breadcrumbs:i=[],selectedEvent:o}=e,{data:c}=(0,s.useSession)(),m=(0,d.useRouter)(),x=[{label:"Events",href:"/events",icon:"\uD83D\uDCC5",roles:["ADMIN","OVERSEER","ATTENDANT"]},{label:"Event Selection",href:"/events/select",icon:"\uD83C\uDFAF",roles:["ADMIN","OVERSEER","ATTENDANT"]}];(null==c?void 0:null===(r=c.user)||void 0===r?void 0:r.role)==="ADMIN"&&x.push({label:"Admin Portal",href:"/admin",icon:"\uD83D\uDEE1️",roles:["ADMIN"]});let u=x.filter(e=>{var r;return e.roles.includes((null==c?void 0:null===(r=c.user)||void 0===r?void 0:r.role)||"")});return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("nav",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between h-16",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsxs)(l(),{href:"/events/select",className:"flex items-center",children:[(0,a.jsx)("span",{className:"text-2xl font-bold text-blue-600",children:"\uD83D\uDCCB"}),(0,a.jsx)("span",{className:"ml-2 text-xl font-semibold text-gray-900",children:"JW Attendant Scheduler"})]}),(0,a.jsx)("div",{className:"hidden md:ml-8 md:flex md:space-x-4",children:u.map(e=>(0,a.jsxs)(l(),{href:e.href,className:"px-3 py-2 rounded-md text-sm font-medium transition-colors ".concat(m.pathname.startsWith(e.href)?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"),children:[(0,a.jsx)("span",{className:"mr-2",children:e.icon}),e.label]},e.href))})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[o&&(0,a.jsxs)("div",{className:"hidden md:flex items-center bg-blue-50 px-3 py-1 rounded-lg",children:[(0,a.jsxs)("span",{className:"text-sm text-blue-600 font-medium",children:["\uD83D\uDCC5 ",o.name]}),o.status&&(0,a.jsx)("span",{className:"ml-2 px-2 py-0.5 text-xs rounded-full ".concat("current"===o.status?"bg-green-100 text-green-800":"upcoming"===o.status?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:o.status})]}),(null==c?void 0:c.user)&&(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("span",{className:"text-sm text-gray-700",children:c.user.name}),(0,a.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat("ADMIN"===c.user.role?"bg-red-100 text-red-800":"OVERSEER"===c.user.role?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"),children:c.user.role}),(0,a.jsx)("button",{onClick:()=>{(0,s.signOut)({callbackUrl:"/auth/signin"})},className:"text-sm text-gray-600 hover:text-gray-900 transition-colors",children:"Sign Out"})]})]})]})})}),i.length>0&&(0,a.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3",children:(0,a.jsx)("nav",{className:"flex","aria-label":"Breadcrumb",children:(0,a.jsx)("ol",{className:"flex items-center space-x-2",children:i.map((e,r)=>(0,a.jsxs)("li",{className:"flex items-center",children:[r>0&&(0,a.jsx)("svg",{className:"w-4 h-4 text-gray-400 mx-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),e.href?(0,a.jsx)(l(),{href:e.href,className:"text-sm text-blue-600 hover:text-blue-800",children:e.label}):(0,a.jsx)("span",{className:"text-sm text-gray-500",children:e.label})]},r))})})})}),(0,a.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n&&(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:n})}),t]})]})}},6802:function(e,r,t){"use strict";t.r(r),t.d(r,{__N_SSP:function(){return m},default:function(){return x}});var a=t(5893),s=t(5083),n=t(7294),l=t(1664),d=t.n(l),i=t(1163),o=t(9008),c=t.n(o),m=!0;function x(e){let{eventId:r,event:t,lanyards:l,attendants:o,lanyardSettings:m,stats:x}=e,u=(0,i.useRouter)(),[p,h]=(0,n.useState)(!1),[b,g]=(0,n.useState)(""),[y,N]=(0,n.useState)(!1),[f,v]=(0,n.useState)(""),[j,w]=(0,n.useState)(null),[k,C]=(0,n.useState)(""),[E,D]=(0,n.useState)(!1),[L,S]=(0,n.useState)(!1),[O,A]=(0,n.useState)(null),[T,B]=(0,n.useState)({circuitConvention:"",assemblyOverseerName:"",attendantOverseerName:"",phone:"",lanyardsReceivedBy:"",lanyardsReturnedTo:"",lanyardsToRecover:""}),[R,_]=(0,n.useState)({badgeNumber:"",notes:""}),[P,F]=(0,n.useState)({startNumber:1,endNumber:10,prefix:"",notes:""}),M=async e=>{e.preventDefault();try{(await fetch("/api/event-lanyards/".concat(r),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(R)})).ok?(_({badgeNumber:"",notes:""}),D(!1),u.reload()):g("Failed to create lanyard")}catch(e){g("Error creating lanyard"),console.error("Error:",e)}},I=e=>{A(e),_({badgeNumber:e.badgeNumber,notes:e.notes||""}),D(!0)},U=async e=>{if(e.preventDefault(),O)try{(await fetch("/api/event-lanyards/".concat(r,"/").concat(O.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(R)})).ok?(_({badgeNumber:"",notes:""}),D(!1),A(null),u.reload()):g("Failed to update lanyard")}catch(e){g("Error updating lanyard"),console.error("Error:",e)}},W=async e=>{if(confirm("Are you sure you want to delete this lanyard?"))try{(await fetch("/api/event-lanyards/".concat(r,"/").concat(e),{method:"DELETE"})).ok?u.reload():g("Failed to delete lanyard")}catch(e){g("Error deleting lanyard"),console.error("Error:",e)}},H=e=>{v(e),N(!0),w(null),C("")},J=async()=>{if(j&&f)try{let e="".concat(j.users.firstName," ").concat(j.users.lastName);(await fetch("/api/event-lanyards/".concat(r,"/").concat(f),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"CHECKED_OUT",isCheckedOut:!0,checkedOutTo:e,checkedOutAt:new Date().toISOString(),notes:j.users.phone||""})})).ok?(N(!1),u.reload()):g("Failed to check out lanyard")}catch(e){g("Error checking out lanyard"),console.error("Error:",e)}},V=async e=>{try{(await fetch("/api/event-lanyards/".concat(r,"/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"AVAILABLE",isCheckedOut:!1,checkedOutTo:null,checkedOutAt:null,checkedInAt:new Date().toISOString(),notes:null})})).ok?u.reload():g("Failed to check in lanyard")}catch(e){g("Error checking in lanyard"),console.error("Error:",e)}},q=async e=>{e.preventDefault();try{let{startNumber:e,endNumber:t,prefix:a,notes:s}=P,n=[];for(let l=e;l<=t;l++){let e=a?"".concat(a).concat(l):l.toString();n.push(fetch("/api/event-lanyards/".concat(r),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({badgeNumber:e,notes:s})}))}let l=(await Promise.all(n)).filter(e=>e.ok).length;l>0?(F({startNumber:1,endNumber:10,prefix:"",notes:""}),S(!1),u.reload(),alert("Successfully created ".concat(l," lanyards"))):g("Failed to create lanyards")}catch(e){g("Error creating bulk lanyards"),console.error("Error:",e)}},z=()=>{_({badgeNumber:"",notes:""}),D(!1),S(!1),A(null)},Z=e=>({AVAILABLE:"bg-green-100 text-green-800",CHECKED_OUT:"bg-blue-100 text-blue-800",LOST:"bg-red-100 text-red-800",DAMAGED:"bg-yellow-100 text-yellow-800"})[e]||"bg-gray-100 text-gray-800";return p?(0,a.jsx)(s.Z,{title:"Loading Lanyards...",breadcrumbs:[{label:"Events",href:"/events"},{label:"Loading..."}],children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,a.jsxs)("div",{className:"animate-pulse",children:[(0,a.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-4"}),(0,a.jsx)("div",{className:"h-64 bg-gray-200 rounded"})]})})}):b?(0,a.jsx)(s.Z,{title:"Lanyards - Error",breadcrumbs:[{label:"Events",href:"/events"},{label:"Lanyards"}],children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,a.jsx)("div",{className:"bg-red-50 border-l-4 border-red-400 p-6 rounded-lg shadow-sm",children:(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("svg",{className:"h-6 w-6 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),(0,a.jsxs)("div",{className:"ml-4 flex-1",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"Unable to Load Lanyards"}),(0,a.jsx)("div",{className:"text-sm text-red-700 mb-4",children:(0,a.jsx)("p",{children:b})}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsxs)(d(),{href:"/events",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors",children:[(0,a.jsx)("svg",{className:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Events"]}),(0,a.jsxs)("button",{onClick:()=>window.location.reload(),className:"inline-flex items-center px-4 py-2 border border-red-300 text-sm font-medium rounded-md text-red-700 bg-white hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors",children:[(0,a.jsx)("svg",{className:"mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Try Again"]})]})]})]})})})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c(),{children:(0,a.jsx)("style",{children:"\n          @media print {\n            @page { margin: 0.5in; }\n            body { print-color-adjust: exact; -webkit-print-color-adjust: exact; }\n            .print\\:hidden { display: none !important; }\n            button, .no-print { display: none !important; }\n            table { page-break-inside: auto; }\n            tr { page-break-inside: avoid; page-break-after: auto; }\n            thead { display: table-header-group; }\n          }\n        "})}),(0,a.jsxs)(s.Z,{title:"Lanyards - ".concat((null==t?void 0:t.name)||"Event"),breadcrumbs:[{label:"Events",href:"/events"},{label:(null==t?void 0:t.name)||"Event",href:"/events/".concat(r)},{label:"Lanyards"}],children:[(0,a.jsx)("div",{className:"max-w-7xl mx-auto mb-6",children:(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg p-6 print:shadow-none print:border-0 print:p-8",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-center mb-8 print:text-3xl print:underline print:mb-12",children:"Attendant Lanyard Tracking"}),(0,a.jsxs)("div",{className:"space-y-3 print:space-y-4 print:ml-8",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-[200px,1fr] gap-2 items-center",children:[(0,a.jsx)("label",{className:"font-semibold text-gray-700",children:"Date:"}),(0,a.jsx)("div",{className:"print:border-b print:border-black print:min-h-[28px] print:pl-2",children:(null==t?void 0:t.startDate)?new Date(t.startDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):""})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-[200px,1fr] gap-2 items-center",children:[(0,a.jsx)("label",{className:"font-semibold text-gray-700",children:"Circuit/Convention:"}),(0,a.jsx)("input",{type:"text",value:T.circuitConvention,onChange:e=>B({...T,circuitConvention:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md print:border-0 print:border-b print:border-black print:p-0 print:pl-2",placeholder:"e.g., OH 19B"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-[200px,1fr] gap-2 items-center",children:[(0,a.jsx)("label",{className:"font-semibold text-gray-700",children:"Assembly Overseer/ CC Name:"}),(0,a.jsx)("input",{type:"text",value:T.assemblyOverseerName,onChange:e=>B({...T,assemblyOverseerName:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md print:border-0 print:border-b print:border-black print:p-0 print:pl-2",placeholder:"Enter name"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-[200px,1fr] gap-2 items-center",children:[(0,a.jsx)("label",{className:"font-semibold text-gray-700",children:"Attendant Overseer Name:"}),(0,a.jsx)("input",{type:"text",value:T.attendantOverseerName,onChange:e=>B({...T,attendantOverseerName:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md print:border-0 print:border-b print:border-black print:p-0 print:pl-2",placeholder:"Enter name"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-[200px,1fr] gap-2 items-center",children:[(0,a.jsx)("label",{className:"font-semibold text-gray-700",children:"Phone:"}),(0,a.jsx)("input",{type:"tel",value:T.phone,onChange:e=>B({...T,phone:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md print:border-0 print:border-b print:border-black print:p-0 print:pl-2",placeholder:"216-469-8897"})]})]}),(0,a.jsxs)("div",{className:"mt-8 space-y-3 print:mt-12 print:space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-[300px,1fr] gap-2 items-center",children:[(0,a.jsx)("label",{className:"font-semibold text-gray-700",children:"Number of Lanyards received by AH:"}),(0,a.jsx)("input",{type:"text",value:T.lanyardsReceivedBy,onChange:e=>B({...T,lanyardsReceivedBy:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md print:border-0 print:border-b print:border-black print:p-0 print:pl-2"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-[300px,1fr] gap-2 items-center",children:[(0,a.jsx)("label",{className:"font-semibold text-gray-700",children:"Lanyards returned to AH:"}),(0,a.jsx)("input",{type:"text",value:T.lanyardsReturnedTo,onChange:e=>B({...T,lanyardsReturnedTo:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md print:border-0 print:border-b print:border-black print:p-0 print:pl-2"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-[300px,1fr] gap-2 items-center",children:[(0,a.jsx)("label",{className:"font-semibold text-gray-700",children:"Lanyards to recover and return:"}),(0,a.jsx)("input",{type:"text",value:T.lanyardsToRecover,onChange:e=>B({...T,lanyardsToRecover:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md print:border-0 print:border-b print:border-black print:p-0 print:pl-2"})]})]}),(0,a.jsx)("div",{className:"mt-8 pt-4 border-t print:mt-12 print:pt-6 print:border-t-2 print:border-black",children:(0,a.jsx)("p",{className:"text-sm italic text-gray-600 print:text-base",children:"Prior to your assembly, list trained attendants alphabetically for quick check-out/check-in."})})]})}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Event Lanyards"}),(0,a.jsxs)("p",{className:"mt-1 text-sm text-gray-600",children:["Manage lanyards for ",null==t?void 0:t.name]})]}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsx)(d(),{href:"/events/".concat(r),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors",children:"← Back to Event"}),(0,a.jsx)("button",{type:"button",onClick:()=>D(!0),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors",children:"+ Add Lanyard"}),(0,a.jsx)("button",{type:"button",onClick:()=>{console.log("Bulk Create clicked"),S(!0)},className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-md transition-colors",children:"\uD83D\uDCE6 Bulk Create"}),(0,a.jsx)("button",{type:"button",onClick:()=>window.print(),className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-md transition-colors",children:"\uD83D\uDCC4 Export to PDF"})]})]})}),E&&(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:O?"Edit Lanyard":"Add New Lanyard"}),(0,a.jsxs)("form",{onSubmit:O?U:M,className:"space-y-4",children:[(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"badgeNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:"Badge Number *"}),(0,a.jsx)("input",{type:"text",id:"badgeNumber",value:R.badgeNumber,onChange:e=>_({...R,badgeNumber:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., L001, A-1, etc.",required:!0})]})}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,a.jsx)("button",{type:"button",onClick:z,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors",children:O?"Update Lanyard":"Create Lanyard"})]})]})]}),L&&(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Bulk Create Lanyards"}),(0,a.jsxs)("form",{onSubmit:q,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"prefix",className:"block text-sm font-medium text-gray-700 mb-1",children:"Prefix (Optional)"}),(0,a.jsx)("input",{type:"text",id:"prefix",value:P.prefix,onChange:e=>F({...P,prefix:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., L, A-, etc."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"startNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Number *"}),(0,a.jsx)("input",{type:"number",id:"startNumber",value:P.startNumber,onChange:e=>F({...P,startNumber:parseInt(e.target.value)||1}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",min:"1",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"endNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:"End Number *"}),(0,a.jsx)("input",{type:"number",id:"endNumber",value:P.endNumber,onChange:e=>F({...P,endNumber:parseInt(e.target.value)||10}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",min:"1",required:!0})]})]}),(0,a.jsx)("div",{className:"bg-gray-50 p-3 rounded-md",children:(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,a.jsx)("strong",{children:"Preview:"})," Will create ",Math.max(0,P.endNumber-P.startNumber+1)," lanyards:",P.prefix,P.startNumber," to ",P.prefix,P.endNumber]})}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,a.jsx)("button",{type:"button",onClick:z,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,a.jsxs)("button",{type:"submit",className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-md transition-colors",disabled:P.endNumber<P.startNumber,children:["Create ",Math.max(0,P.endNumber-P.startNumber+1)," Lanyards"]})]})]})]}),y&&(0,a.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,a.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Check Out Lanyard"}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{htmlFor:"attendantSearch",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Attendant"}),(0,a.jsx)("input",{type:"text",id:"attendantSearch",value:k,onChange:e=>C(e.target.value),placeholder:"Search attendants...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),k&&(0,a.jsx)("div",{className:"mt-2 max-h-40 overflow-y-auto border border-gray-200 rounded-md",children:o.filter(e=>{let r="".concat(e.users.firstName," ").concat(e.users.lastName).toLowerCase(),t=(e.role||e.users.role||"").toLowerCase(),a=e.users.email.toLowerCase(),s=k.toLowerCase();return r.includes(s)||t.includes(s)||a.includes(s)}).map(e=>(0,a.jsxs)("div",{onClick:()=>{w(e),C("".concat(e.users.firstName," ").concat(e.users.lastName))},className:"p-2 hover:bg-gray-100 cursor-pointer border-b border-gray-100 last:border-b-0",children:[(0,a.jsxs)("div",{className:"font-medium text-gray-900",children:[e.users.firstName," ",e.users.lastName]}),(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:[e.role||e.users.role," • ",e.users.email,e.users.phone&&(0,a.jsxs)("span",{className:"ml-2",children:["\uD83D\uDCDE ",e.users.phone]})]})]},e.id))})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,a.jsx)("button",{onClick:()=>N(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,a.jsx)("button",{onClick:J,disabled:!j,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white rounded-md transition-colors",children:"Check Out"})]})]})})}),(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,a.jsxs)("h3",{className:"text-lg font-medium text-gray-900",children:["Lanyards (",l.length,")"]})}),0===l.length?(0,a.jsx)("div",{className:"p-6 text-center",children:(0,a.jsxs)("div",{className:"text-gray-500",children:[(0,a.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),(0,a.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No lanyards"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by creating a new lanyard."}),(0,a.jsx)("div",{className:"mt-6",children:(0,a.jsx)("button",{onClick:()=>D(!0),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:"+ Add Lanyard"})})]})}):(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Badge Number"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Checked Out"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phone Number"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.badgeNumber}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(Z(e.status)),children:e.status})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.isCheckedOut?(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-gray-900",children:e.checkedOutTo||"Unknown"}),(0,a.jsx)("div",{className:"text-gray-500 text-xs",children:e.checkedOutAt?new Date(e.checkedOutAt).toLocaleDateString():""}),e.notes&&(0,a.jsxs)("div",{className:"text-blue-600 text-xs",children:["\uD83D\uDCDE ",e.notes]})]}):(0,a.jsx)("span",{className:"text-gray-400",children:"Available"})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.notes||"-"}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("button",{onClick:()=>I(e),className:"text-blue-600 hover:text-blue-900",children:"Edit"}),e.isCheckedOut?(0,a.jsx)("button",{onClick:()=>V(e.id),className:"text-orange-600 hover:text-orange-900",children:"Check In"}):(0,a.jsx)("button",{onClick:()=>H(e.id),className:"text-green-600 hover:text-green-900",children:"Check Out"}),(0,a.jsx)("button",{onClick:()=>W(e.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})})]},e.id))})]})})]})]})]})]})}},9008:function(e,r,t){e.exports=t(3867)}},function(e){e.O(0,[424,888,774,179],function(){return e(e.s=9472)}),_N_E=e.O()}]);